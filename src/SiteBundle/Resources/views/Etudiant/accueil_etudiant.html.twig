{% extends '::base.html.twig' %}
{% form_theme form 'bootstrap_3_layout.html.twig' %}
{% block title %}
    Accueil étudiant
{% endblock %}
{% block body %}
    <h1 class="text-center">Mon Compte</h1>
    <div class="row">
        <div id="actions" class="col-sm-12 container">
            <h2>Informations Personnelles : <a href="#"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></h2>
        </div>
    </div>
    <div class="row">
        <div id="actions" class="col-sm-6 container">
            <p>Nom : {{ etudiant.laPersone.nom }}</p>
        </div>
        <div id="actions" class="col-sm-6 container">
            <p>Prénom : {{ etudiant.laPersone.prenom }}</p>
        </div>
    </div>

    <div class="row">
        {% if etudiant.laPersone.sexe  %}
        <div id="actions" class="col-sm-6 container">
            <p>Sexe : {{ etudiant.laPersone.sexe }}</p>
        </div>
        {% endif %}

        {% if etudiant.nationalite  %}
        <div id="actions" class="col-sm-6 container">
            <p>Nationnalité : {{ etudiant.nationalite }}</p>
        </div>
        {% endif %}
    </div>
    <div class="row">
        <div id="actions" class="col-sm-6 container">
            <p>Date de naissance : {{ etudiant.dateNaissance | date('d-m-Y') }}</p>
        </div>
        {% if etudiant.laPersone.Adresse  %}
        <div id="actions" class="col-sm-6 container">
            <p>Ville de naissance : {{ etudiant.villeNaissance }}</p>
        </div>
        {% endif %}
    </div>
    <div class="row">
        {% if etudiant.laPersone.mail  %}
        <div id="actions" class="col-sm-6 container">
            <p>Mail : {{ etudiant.laPersone.mail }}</p>
        </div>
        {% endif %}
        {% if etudiant.laPersone.telephone  %}
        <div id="actions" class="col-sm-6 container">
            <p>Téléphone : {{ etudiant.laPersone.telephone }}</p>
        </div>
        {% endif %}
    </div>

    {% if etudiant.laPersone.Adresse  %}
    <div class="row">
        <div id="actions" class="col-sm-12 container">
            <p>Adresse : {{ etudiant.laPersone.Adresse.adresse }}</p>
        </div>
    </div>
    <div class="row">
        <div id="actions" class="col-sm-6 container">
            <p>Code Postal : {{ etudiant.laPersone.Adresse.codePostal }}</p>
        </div>
        <div id="actions" class="col-sm-6 container">
            <p>Ville : {{ etudiant.laPersone.Adresse.commune }}</p>
        </div>
    </div>
    {% endif %}

    {% if etudiant.numeroDossierCandidature  %}
    <div class="row">
        <div id="actions" class="col-sm-12 container">
            <p>Numéro dossier ciel2  : {{ etudiant.numeroDossierCandidature }}</p>
        </div>
    </div>
    {% endif %}

    <hr>


    {% if not etudiant.laPersone.sexe  %}
        <h1> veuillez completer votre profil </h1>
    {% endif %}


    <div class="row">
        <div id="cv" class="col-sm-12 container">
            <div class="block text-center">
                <h3>Mon CV</h3>
                <p class="text-justify">Le curriculum vitae est, avec la lettre de motivation, le document central de
                    votre
                    candidature pour un emploi. Vous pouvez donc personaliser le votre et l'enregistrer pour une
                    utilisation futur.</p>
                <button class="btn btn-lg btn-primary center-block" data-toggle="modal" data-target="#ajouterCV">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    Ajouter/Modifier mon CV
                </button>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div id="ajouterCV" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    {% if app.user.idEtudiant is null or app.user.idEtudiant.cv is null or app.user.idEtudiant.cv is sameas("") %}
                        <h4 class="modal-title text-center">Ajouter un CV</h4>
                    {% else %}
                        <h4 class="modal-title text-center">Modifier mon CV</h4>
                    {% endif %}
                </div>
                <div class="modal-body">
                    {% if app.user.idEtudiant is null or app.user.idEtudiant.cv is null or app.user.idEtudiant.cv is sameas("") %}
                    {% else %}
                        <h5><strong>Vous possédez déjà un CV :</strong> <a href="{{ asset(app.user.idEtudiant.cv) }}"
                                                                           target="_blank">Voir mon CV</a></h5>
                    {% endif %}
                    {{ form(form) }}
                    {% if error is not sameas('') %}
                        <p class="red">{{ error }}</p>
                    {% endif %}
                </div>
            </div>

        </div>
    </div>

    {% block javascripts %}
        <script type="text/javascript">
            {% if error is not sameas('') %}
            jQuery(document).ready(function ($) {

                $('#ajouterCV').modal('show');

            });
            {% endif %}
        </script>
    {% endblock %}
{% endblock %}